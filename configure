#!/bin/sh
# Use Linux system dependencies where possible, but take into account different .so names.

os=`uname`
if [[ $os == 'Linux' ]]; then
	declare -r distro="$(lsb_release -is)"
	if [ -n "${distro}" ]; then
		case "${distro}" in
			"Arch Linux" )
			sed 's/@LIBLUA51@/liblua5.1.so.5.1/' thirdparty/Eluant.dll.config.in > Eluant.dll.config
			;;
			"Debian" | "Ubuntu" )
			sed 's/@LIBLUA51@/liblua5.1.so.0/' thirdparty/Eluant.dll.config.in > Eluant.dll.config
			;;
			"openSUSE project" )
			sed 's/@LIBLUA51@/liblua.so.5.1/' thirdparty/Eluant.dll.config.in > Eluant.dll.config
			;;
			"Fedora" )
			sed 's/@LIBLUA51@/liblua-5.1.so/' thirdparty/Eluant.dll.config.in > Eluant.dll.config
			;;
			*)
			sed 's/@LIBLUA51@/liblua5.1.so/' thirdparty/Eluant.dll.config.in > Eluant.dll.config
			;;
		esac
	else
		sed 's/@LIBLUA51@/liblua5.1.so/' thirdparty/Eluant.dll.config.in > Eluant.dll.config
	fi
fi